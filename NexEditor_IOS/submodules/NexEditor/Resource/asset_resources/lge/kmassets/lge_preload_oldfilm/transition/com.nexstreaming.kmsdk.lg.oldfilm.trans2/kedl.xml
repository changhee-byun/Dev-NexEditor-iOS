<effect 
	id="com.nexstreaming.kmsdk.lg.oldfilm.transition2"
	type="transition" 
	minduration="500" 
	maxduration="3000" 
	effectoffset="100" 
	effectoverlap="100"
	cycleTime="800"
	name="Old Film Transition2">
	
    <texture id="video1" video="1" />
    <texture id="video2" video="2" />
    
  	<texture id="photo_frame" src="lg_photo_frame.png" />
	<texture id="noise" src="lg_noise.png" animated="4 2 10" />	    

	<texture id="flare1" src="lg_flare_01.png" />
	<texture id="flare2" src="lg_flare_02.png" />
	<texture id="flare3" src="lg_flare_03.png" />
	<texture id="flare4" src="lg_flare_04.png" />
	<texture id="flare5" src="lg_flare_05.png" />

  	<texture id="photo_frame" src="lg_photo_frame.png" />
  	<texture id="photo_frame1" src="lg_photo_frame_01.png" />
  	<texture id="photo_frame2" src="lg_photo_frame_02.png" />
  	<texture id="photo_frame3" src="lg_photo_frame_03.png" />
  	<texture id="photo_frame4" src="lg_photo_frame_04.png" />  	


  <animatedvalue id="flare_move" timingfunction="linear">
    <keyframe time="0" value="640 7200" />
    <keyframe time="0.33" value="640 -4320" />
    <keyframe time="0.65" value="640 7200" />
    <keyframe time="0.66" value="640 -4320" />
    <keyframe time="0.99" value="640 7200" />
    <keyframe time="1" value="640 -4320" />
  </animatedvalue>

  <animatedvalue id="flare_alpha" timingfunction="linear">
    <keyframe time="0" value="0.5" />
    <keyframe time="0.2" value="1" />
    <keyframe time="0.9" value="1" />
    <keyframe time="1" value="0.3" />
  </animatedvalue>


	<animatedvalue id="frame" timingfunction="linear">
		<keyframe value="1" />
		<keyframe value="10" />
	</animatedvalue>

	<animatedvalue id="video_move" timingfunction="ease-out">
		<keyframe time="0" value="640 1800" />
		<keyframe time="0.6" value="640 -720" />
		<keyframe time="1" value="640 -1080" />
	</animatedvalue>

	<projection type="perspective" fov="45" aspect="1.777777" near="0.01" far="60000">
		<scale y="-1">		
			<translate offset="-640 -360 -870">
				<translate offset="@video_move">
					<translate offset="0 0">				
					<!-- Video Group -->
						<translate offset="0 -1440">
							<style alpha="0.85">
								<rect bounds="-640 -360 640 360" texture="@video1" />
							</style>
							<style alpha="0.5" animframe="@frame">
								<rect bounds="-640 -360 640 360" texture="@noise" />
							</style>
							<rect bounds="-640 -360 640 360" texture="@photo_frame1" />  
						</translate>
						<translate offset="0 -720">
							<style brightness="-0.1">
								<rect bounds="-640 -360 640 360" texture="@video1" />
							</style>
							<style alpha="0.5" animframe="@frame">
								<rect bounds="-640 -360 640 360" texture="@noise" />
							</style>
							<rect bounds="-640 -360 640 360" texture="@photo_frame2" />  
						</translate>
						<translate offset="0 0">
							<style brightness="0.1">
								<rect bounds="-640 -360 640 360" texture="@video1" />
							</style>
							<style alpha="0.5" animframe="@frame">
								<rect bounds="-640 -360 640 360" texture="@noise" />
							</style>
							<rect bounds="-640 -360 640 360" texture="@photo_frame3" />  
						</translate>
						<translate offset="0 720">
							<style brightness="-0.1">
								<rect bounds="-640 -360 640 360" texture="@video2" />
							</style>
							<style alpha="0.5" animframe="@frame">
								<rect bounds="-640 -360 640 360" texture="@noise" />
							</style>
							<rect bounds="-640 -360 640 360" texture="@photo_frame4" />  
						</translate>
						<translate offset="0 1440">
							<style alpha="0.85">
								<rect bounds="-640 -360 640 360" texture="@video2" />
							</style>
							<style alpha="0.5" animframe="@frame">
								<rect bounds="-640 -360 640 360" texture="@noise" />
							</style>
							<rect bounds="-640 -360 640 360" texture="@photo_frame" />  
						</translate>

					</translate>
				</translate>
				<!-- Video Group End -->
				<style alpha="@flare_alpha">
					<translate offset="@flare_move">
						<translate offset="0 0">
							<!-- Group -->
							<translate offset="0 -7200">
								<style compmode="screen" alpha="0.6" >
									<rect bounds="-640 -1440 640 1440" texture="@flare1" />
								</style>
							</translate>
							<translate offset="0 -4320">
								<style compmode="screen" alpha="0.6" >
									<rect bounds="-640 -1440 640 1440" texture="@flare2" />
								</style>
							</translate>
							<translate offset="0 -1440">
								<style compmode="screen" alpha="0.6" >
									<rect bounds="-640 -1440 640 1440" texture="@flare3" />
								</style>
							</translate>
							<translate offset="0 1440">
								<style compmode="screen" alpha="0.6" >
									<rect bounds="-640 -1440 640 1440" texture="@flare4" />
								</style>
							</translate>
							<translate offset="0 4320">
								<style compmode="screen" alpha="0.6" >
									<rect bounds="-640 -1440 640 1440" texture="@flare5" />
								</style>
							</translate>
						<!-- end Group -->
						</translate>
					</translate>
				</style>
			</translate>
		</scale>
	</projection>

</effect>
