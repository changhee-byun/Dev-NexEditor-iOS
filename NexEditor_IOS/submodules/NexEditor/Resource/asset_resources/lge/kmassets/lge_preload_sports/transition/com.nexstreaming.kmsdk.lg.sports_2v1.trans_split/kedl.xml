<effect
  id="com.nexstreaming.kmsdk.lg.sports_2v1.trans_split"
  type="transition"
  effectoffset="100"
  videooverlap="100"
  minduration="500"
  maxduration="5000"
  defaultduration="2000"
  name="Sports Trans Split">

  	<texture id="video1" video="1" />
  	<texture id="video2" video="2" />
  	<texture id="tex_mask" src="mask_image.png" />
  	<texture id="tex_vignette_all" src="love_vignette_c.png" />

  <animatedvalue id="vscale1" scope="whole" timingfunction="linear">
    <keyframe time="0" value="1" />
    <keyframe time="0.9" value="1" />
    <keyframe time="1" value="1" />
  </animatedvalue>

  <animatedvalue id="vscale2" scope="whole" timingfunction="linear">
    <keyframe time="0" value="2" />
    <keyframe time="0.9" value="2" />
    <keyframe time="1" value="1" />
  </animatedvalue>

  <animatedvalue id="vscale3" scope="whole" timingfunction="linear">
    <keyframe time="0" value="1.1" />
    <keyframe time="0.9" value="1.1" />
    <keyframe time="1" value="1" />
  </animatedvalue>

  	<animatedvalue id="mask1" timingfunction="ease-in" >
		<keyframe time="0" value="1918.125 -105" />
		<keyframe time="0.3" value="1918.125 80" />
		<keyframe time="0.4" value="1805.625 80" />
		<keyframe time="0.67" value="720 80" />
		<keyframe time="1" value="720 80" />
  	</animatedvalue>

  	<animatedvalue id="rect1" timingfunction="ease-in" >
		<keyframe time="0" value="1873.125 -105" />
		<keyframe time="0.3" value="1873.125 80" />
		<keyframe time="0.4" value="1760.625 80" />
		<keyframe time="0.48" value="1237.5 80" />
		<keyframe time="0.85" value="337.5 80" />
		<keyframe time="1" value="337.5 80" />
  	</animatedvalue>

  	<animatedvalue id="mask2" timingfunction="ease-in" >
		<keyframe time="0" value="-900 359" />
		<keyframe time="0.3" value="-540 359" />
		<keyframe time="0.4" value="-540 359" />
		<keyframe time="0.7" value="731.25  359" />
		<keyframe time="1" value="731.25  359" />
  	</animatedvalue>

  	<animatedvalue id="rect2" timingfunction="ease-in" >
		<keyframe time="0" value="-866.25 290" />
		<keyframe time="0.3" value="-540 290" />
		<keyframe time="0.4" value="-540 290" />
		<keyframe time="0.5" value="0 290" />		
		<keyframe time="0.8" value="1012.5  290" />
		<keyframe time="1" value="1012.5  290" />
  	</animatedvalue>


  	<animatedvalue id="mask3" timingfunction="ease-in" >
		<keyframe time="0" value="1861.875  1000" />
		<keyframe time="0.3" value="1805.625 570" />
		<keyframe time="0.4" value="1693.125 570" />
		<keyframe time="0.67" value="720 570" />
		<keyframe time="1" value="720 570" />
  	</animatedvalue>

  	<animatedvalue id="rect3" timingfunction="ease-in" >
		<keyframe time="0" value="1861.875  1000" />
		<keyframe time="0.3" value="1861.875 570" />
		<keyframe time="0.4" value="1749.375 570" />
		<keyframe time="0.48" value="1237.5 570" />		
		<keyframe time="0.85" value="337.5 570" />
		<keyframe time="1" value="720 570" />
  	</animatedvalue>


	<animatedvalue id="rect_alpha" scope="whole" timingfunction="linear">
		<keyframe time="0.79" value="0" />
		<keyframe time="0.8" value="1" />
		<keyframe time="0.95" value="1" />
		<keyframe time="1" value="0" />
	</animatedvalue>


	<animatedvalue id="t" scope="whole" timingfunction="linear">
		<keyframe value="0" />
		<keyframe value="20" />
	</animatedvalue>
	
	<function id="glowfunc" type="simplexfractal" outputbias="0.2" outputscale="0.2" octaves="1" />
	<function id="glowfuncb" type="simplexfractal" outputbias="0.2" outputscale="0.2" octaves="1" />
	<function id="glowfuncc" type="simplexfractal" outputbias="0.6" outputscale="0.6" octaves="1" />


	<projection type="perspective" fov="45" aspect="2" near="0.01" far="60000">
		<scale y="-1">
			<translate offset="-720 -360 -870">
		        <translate offset="720 360">
		          <rect bounds="-720 -360 640 360" texture="@video1" />
		        </translate>

		        <!-- RECT 1-->
		        <translate offset="@rect1">
		        	<style alpha="0.7">
		        		<rect bounds="-720 -80 720 80" color="#1cc7ff"/>
		        	</style>
		    	</translate>

		        <translate offset="@mask1">
			        <style dest="stencil">
			        	<rect bounds="-720 -80 720 80" color="#FFFFFF"/>
			        </style>
		    	</translate>
		        <style rendertest="stencil">
		          <translate offset="720 360">
	            	<scale uniform="@vscale3">
	            		<rect bounds="-720 -360 720 360" color="#FFFFFF" />
	            	</scale>
		          </translate>
		        </style>

		        <!-- RECT 2 -->

		        <translate offset="@rect2">
		        	<style alpha="0.7">
			        	<rect bounds="-810 -130 810 130" color="#1cc7ff"/>
			        </style>
		    	</translate>

		        <translate offset="@mask2">
					<translate maskoffset="0 0">
						<translate maskoffset="0 0">
							<scale type="mask" x="0" y="1">
								<rect bounds="-742.5 -362 742.5 362" texture="@video2" mask="@tex_mask" />
							</scale>
						</translate>
					</translate>
		    	</translate>

		        <!-- RECT 3 -->
		        <translate offset="@rect3">
		        	<style alpha="0.7">
			        	<rect bounds="-810 -150 810 150" color="#1cc7ff"/>
			        </style>
		    	</translate>

		        <translate offset="@mask3">
			        <style dest="stencil">
			        	<rect bounds="-720 -150 720 150" color="#FFFFFF"/>
			        </style>
		    	</translate>
		        <style rendertest="stencil">
		          <translate offset="720 360">
	            	<scale uniform="@vscale3">
	            		<rect bounds="-720 -360 720 360" texture="@video2" />
	            	</scale>
		          </translate>
		        </style>

		        <!-- MOTION GRAPHIC -->
<!--		        
				<style alpha="@rect_alpha">
					<translate offset="201 625">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="3472">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
	            				<rect bounds="-200 -10 200 10" color="1 0.392 0.196" />
							</style>
						</sequence>	
					</translate>

					<translate offset="728 7.000">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="4450">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-225 -15 225 15" color="1 0.392 0.196" />
							</style>
						</sequence>	
					</translate>

					<translate offset="1105 661">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="1000">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-175 -12 175 12" color="1 0.392 0.196" />
							</style>
						</sequence>	
					</translate>

					<translate offset="398 573">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="2057">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-250 -5 250 5" color="1 0.392 0.196" />
							</style>
						</sequence>
					</translate>
					<translate offset="262 171">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="6878">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-300 -5 300 5" color="1 0.392 0.196" />
							</style>
						</sequence>	
					</translate>

					<translate offset="1047 400">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="9875">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-250 -10 250 10" color="1 0.392 0.196" />
							</style>
						</sequence>	
					</translate>

					<translate offset="439 529">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="9645">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-80 -15 80 15" color="1 0.392 0.196" />
							</style>
						</sequence>	
					</translate>

					<translate offset="1132 100">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="15697">
							<style alpha="@glowfuncc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-165 -20 165 20" color="1 0.392 0.196" />
							</style>
						</sequence>	
					</translate>

					<translate offset="120 450">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="54689">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-50 -40 50 40" color="#1cc7ff" />
							</style>
						</sequence>	
					</translate>

					<translate offset="921 612">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="12325">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-25 -20 25 20" color="#1cc7ff" />
							</style>
						</sequence>	
					</translate>

					<translate offset="961 423">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="7566">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-229 -11 229 11" color="#1cc7ff" />
							</style>
						</sequence>	
					</translate>

					<translate offset="407 657">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="8964">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-183 -37 183 37" color="#1cc7ff" />
							</style>
						</sequence>	
					</translate>

					<translate offset="542 591">
						<sequence id="r" type="randmix" count="12" start="0.1" end="0.1" seed="633247">
							<style alpha="@glowfunc(@r.x @r.y @t)" brightness="@glowfunc(@r.x @r.y @t)" >
								<rect bounds="-285 -5 285 5" color="#1cc7ff" />
							</style>
						</sequence>	
					</translate>
				</style>
-->				

			</translate>
		</scale>
	</projection>

</effect>