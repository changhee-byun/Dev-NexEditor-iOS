<effect id="com.nexstreaming.kinemaster.builtin.title.comic" name="Comic Book" categorytitle="More Title Effects" type="title" icon="fx_text_comic_book.png" intimefirst="900" intime="900" outtime="800" repeat="no" >

	<userfield id="f_text" type="text">
		<fieldlabel locale="en" value="Title Text" />
	</userfield>

	<texture id="videoframe" video="1" />
	<texture id="dots" src="comicdots.png" wrap="mirror" />
	
	<texture id="title_text" text="%1" 
		typeface="asset:knewave.ttf" 
		textsize="150" 
		height="400"
		width="900"
		srcfield="@f_text"
		fillcolor="#FFFF00" 
		shadowoffset="0 0" shadowradius="12" shadowcolor="0 0 0 0.75"
		textmargin="12"
		textalign="center"
		maxlines="4"
		strokecolor="#FF0000"
		textstrokewidth="5"
		fill="true" shadow="true" />
	
	<texture id="title_text_mask" text="%1" 
		typeface="asset:knewave.ttf" 
		textsize="150" 
		height="400"
		width="900"
		srcfield="@f_text"
		fillcolor="#FFFFFF" 
		textmargin="12"
		textalign="center"
		maxlines="4"
		strokecolor="#FF0000"
		textstrokewidth="5"
		fill="true" />
		
	<texture id="title_text_stroke" text="%1" 
		typeface="asset:knewave.ttf" 
		textsize="150" 
		height="400"
		width="900"
		srcfield="@f_text"
		fillcolor="#FFFF00" 
		shadowoffset="0 0" shadowradius="12" shadowcolor="0 0 0 0.75"
		textmargin="12"
		textalign="center"
		maxlines="4"
		strokecolor="#FF0000"
		textstrokewidth="5"
		stroke="true"
		fill="false"  />
		
	
	<rect bounds="-1 1 1 -1" texture="@videoframe" />
	
	<animatedvalue id="fade">
		<part type="in"><keyframe value="0" /><keyframe value="1" /></part>
		<part type="mid"><keyframe value="1" /></part>
		<part type="out"><keyframe value="1" /><keyframe value="0" /></part>
	</animatedvalue>
	
	<animatedvalue id="slide" timingfunction="linear" >
		<part type="in"><keyframe value="400" /><keyframe value="0" timingfunction="ease-out"  /></part>
		<part type="mid"><keyframe value="0" /></part>
		<part type="out"><keyframe value="0" /><keyframe value="-400" timingfunction="ease-in" /></part>
	</animatedvalue>
	
	<projection type="perspective" aspect="1.77777" fov="45" top="1" near="1" far="40">
		<translate offset="0 0 -21.69">
			<scale uniform="0.025">
				<translate offset="@slide 0">
				<style dest="stencil">
					<rect location="0 0" height="400" width="900" scalemode="fit" anchor="center" texture="@title_text_mask" />
				</style>
				<style alpha="@fade">
					<rect location="0 0" height="400" width="900" scalemode="fit" anchor="center" texture="@title_text" />

					<rotate angle="-32" type="texture">
						<scale uniform="1.5" type="texture">
							<scale x="8" y="4.5" type="texture">
            					<style rendertest="stencil"><style alpha="0.8">
            						<rect bounds="-640 -360 640 360" texture="@dots" />
                        		</style></style>
							</scale>
						</scale>
					</rotate>
					<rect location="0 0" height="400" width="900" scalemode="fit" anchor="center" texture="@title_text_stroke" />
				</style>
				</translate>
			</scale>
		</translate>
	</projection>
	
</effect>