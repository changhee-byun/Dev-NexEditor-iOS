<effect
  id="com.nexstreaming.kinemaster.builtin3.boxtexttrans"
  type="transition"
  effectoffset="100"
  videooverlap="100"
  minduration="500"
  maxduration="8000"
  defaultduration="4000"
  icon="transition_box_text.png"
  categorytitle="Text Transitions"
  name="Square Title">
  
  <userfield id="f_text" type="text">
	<fieldlabel locale="en" value="Title Text" />
  </userfield>
  
  <userfield id="f_text2" type="text">
	<fieldlabel locale="en" value="Title Text" />
  </userfield>
  
  <userfield id="f_text3" type="text">
	<fieldlabel locale="en" value="Title Text" />
  </userfield>
  
  <userfield id="f_text4" type="text">
	<fieldlabel locale="en" value="Title Text" />
  </userfield>
  
  <animatedvalue id="anim_1" timingfunction="linear">
    <keyframe time="0.2" value="0" />
    <keyframe time="0.4" value="-90" timingfunction="default" />
    <keyframe time="0.6" value="-180" timingfunction="default" />
    <keyframe time="0.8" value="-270" timingfunction="default" />
  </animatedvalue>
  <animatedvalue id="anim_2" timingfunction="linear">
    <keyframe time="0.0" value="0.200" />
    <keyframe time="0.2" value="1" timingfunction="default" />
    <keyframe time="0.8" value="1" />
    <keyframe time="0.95" value="5" timingfunction="default" />
  </animatedvalue>
  <animatedvalue id="anim_3" timingfunction="linear">
    <keyframe time="0.0" value="0" />
    <keyframe time="0.2" value="1" timingfunction="default" />
  </animatedvalue>
  <animatedvalue id="anim_4" timingfunction="linear">
    <keyframe time="0.8" value="0" />
    <keyframe time="1.0" value="1" timingfunction="ease-in" />
  </animatedvalue>
  <texture id="video1" video="1" />
  <texture
    id="text1"
    textsize="50"
    height="69"
    width="300"
    fillcolor="#ffffffff"
    fill="true"
    typeface="asset:lato-bold.ttf"
    textalign="center"
    textvalign="center"
    autosize="false"
	text="%1" 
	srcfield="@f_text"  
    />
    
    
  <texture
    id="text2"
    textsize="50"
    height="69"
    width="300"
    fillcolor="#ffffffff"
    fill="true"
    typeface="asset:lato-bold.ttf"
    textalign="center"
    textvalign="center"
    autosize="false"
	text="%1" 
	srcfield="@f_text2"  
    />
  <texture
    id="text3"
    textsize="50"
    height="69"
    width="300"
    fillcolor="#ffffffff"
    fill="true"
    typeface="asset:lato-bold.ttf"
    textalign="center"
    textvalign="center"
    autosize="false"
	text="%1" 
	srcfield="@f_text3"  
    />
  <texture
    id="text4"
    textsize="50"
    height="69"
    width="300"
    fillcolor="#ffffffff"
    fill="true"
    typeface="asset:lato-bold.ttf"
    textalign="center"
    textvalign="center"
    autosize="false"
	text="%1" 
	srcfield="@f_text4"  
    />
  <texture id="video2" video="2" />
  <projection
    type="perspective"
    fov="45"
    aspect="1.777777"
    near="0.01"
    far="60000">
    <scale y="-1">
      <translate offset="-640 -360 -870">
        <translate offset="640 360">
          <rect bounds="-640 -360 640 360" texture="@video1" />
        </translate>
        <translate offset="640 360">
          <rotate axis="0 0 1" angle="@anim_1">
            <scale uniform="@anim_2">
              <style alpha="@anim_3">
                <translate offset="0 -36">
                  <scale x="0.999" y="1.000">
                    <!-- Group -->
                      <translate offset="0.126 36.583">
                        <rect bounds="-150 -150 150 150" color="1 1 1" />
                        <style dest="stencil">
	                        <rect bounds="-150 -150 150 150" color="1 1 1" />
                        </style>
                      </translate>
                      <translate offset="0.167 36.967">
                        <rect bounds="-150 -223.550 150 -154.039" texture="@text1" />
                      </translate>
                      <translate offset="0.167 36.967">
                        <rotate axis="0 0 1" angle="90">
                          <rect bounds="-150 -223.550 150 -154.039" texture="@text2" />
                        </rotate>
                      </translate>
                      <translate offset="-0.167 36.726">
                        <rotate axis="0 0 1" angle="180">
                          <rect bounds="-150 -222.500 150 -153.500" texture="@text3" />
                        </rotate>
                      </translate>
                      <translate offset="-0.167 36.726">
                        <rotate axis="0 0 1" angle="270">
                          <rect bounds="-150 -222.500 150 -153.500" texture="@text4" />
                        </rotate>
                      </translate>
                    <!-- end Group -->
                  </scale>
                </translate>
              </style>
            </scale>
          </rotate>
        </translate>
        <translate offset="640 360">
          <style alpha="@anim_4">
            <style rendertest="stencil">
	            <rect bounds="-640 -360 640 360" texture="@video2" />
	        </style>
          </style>
        </translate>
      </translate>
    </scale>
  </projection>
</effect>