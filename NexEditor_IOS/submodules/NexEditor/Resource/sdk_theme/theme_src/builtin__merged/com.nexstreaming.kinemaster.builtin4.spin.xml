<effect
  id="com.nexstreaming.kinemaster.builtin4.spin"
  type="transition"
  effectoffset="100"
  videooverlap="100"
  minduration="500"
  maxduration="5000"
  defaultduration="2000"
  categorytitle="Presentation"
  name="Spin"
  icon="spin.png">
  
    <userfield id="f_inoutdir" type="selection" default="2.5">
		<option value="2.5">
			<fieldlabel locale="en" value="Inward" />
		</option>
		<option value="1.5">
			<fieldlabel locale="en" value="Outward" />
		</option>
	</userfield>

  <animatedvalue id="anim_1" timingfunction="linear">
    <keyframe time="0.0" value="600" />
    <keyframe time="0.9" value="0" timingfunction="ease" />
  </animatedvalue>
  <animatedvalue id="anim_2" timingfunction="linear">
    <keyframe time="0.0" value="0.010" />
    <keyframe time="0.9" value="1" timingfunction="ease" />
  </animatedvalue>
  <animatedvalue id="anim_3" timingfunction="linear">
    <keyframe time="0.0" value="0" />
    <keyframe time="0.073" value="1" />
    <keyframe time="0.9" value="1" timingfunction="ease" />
  </animatedvalue>
  <animatedvalue id="anim_1b" timingfunction="linear">
    <keyframe time="0.0" value="0" />
    <keyframe time="0.9" value="600" timingfunction="ease" />
  </animatedvalue>
  <animatedvalue id="anim_2b" timingfunction="linear">
    <keyframe time="0.0" value="1" />
    <keyframe time="0.9" value="0.010" timingfunction="ease" />
  </animatedvalue>
  <animatedvalue id="anim_3b" timingfunction="linear">
    <keyframe time="0.0" value="1" />
    <keyframe time="0.827" value="1" />
    <keyframe time="0.9" value="0" />
  </animatedvalue>
  <texture id="video1" video="1" />
  <texture id="video2" video="2" />
  <projection
    type="perspective"
    fov="45"
    aspect="1.777777"
    near="0.01"
    far="60000">
    <scale y="-1">
      <translate offset="-640 -360 -870">
      
    	<visibility check="@f_inoutdir" start="1.0" end="1.9">
    	
			<translate offset="640 360">
			  <rect bounds="-640 -360 640 360" texture="@video1" />
			</translate>
			<translate offset="640 360">
			  <rotate axis="0 0 1" angle="@anim_1">
				<scale uniform="@anim_2">
				  <style alpha="@anim_3">
					<rect bounds="-640 -360 640 360" texture="@video2" />
				  </style>
				</scale>
			  </rotate>
			</translate>
			
		</visibility>
        
    	<visibility check="@f_inoutdir" start="2.0" end="2.9">
    	
			<translate offset="640 360">
			  <rect bounds="-640 -360 640 360" texture="@video2" />
			</translate>
			<translate offset="640 360">
			  <rotate axis="0 0 1" angle="@anim_1b">
				<scale uniform="@anim_2b">
				  <style alpha="@anim_3b">
					<rect bounds="-640 -360 640 360" texture="@video1" />
				  </style>
				</scale>
			  </rotate>
			</translate>
			
		</visibility>
        
      </translate>
    </scale>
  </projection>
</effect>