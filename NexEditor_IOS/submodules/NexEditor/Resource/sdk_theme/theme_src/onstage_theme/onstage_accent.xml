<effect 
	id="com.nexstreaming.kinemaster.onstage.accent" 
	name="On-Stage Accent"
	icon="theme_accent.png"
	theme="true"
	type="title" 
	intime="4000" 
	intimefirst="4000" 
	outtime="4000" 
	outtimelast="4000"
	cycletime="4000" repeat="yes">
	
	<texture id="star1" src="star.png" />
	<texture id="star2" src="starglow.png" />

	<texture id="video" video="1" />

	<rect bounds="-1 1 1 -1" texture="@video" />

	<animatedvalue id="spin1">
		<keyframe value="0" />
		<keyframe value="120" />
	</animatedvalue>
	<animatedvalue id="spin2">
		<keyframe value="60" />
		<keyframe value="0" />
	</animatedvalue>
	<animatedvalue id="spin3">
		<keyframe value="80" />
		<keyframe value="140" />
	</animatedvalue>
	
	<animatedvalue id="fade">
		<part type="in">
			<keyframe value="0" />
			<keyframe value="1" />
		</part>
		<part type="mid">
			<keyframe value="1" />
		</part>
		<part type="out">
			<keyframe value="1" />
			<keyframe value="0" />
		</part>
	</animatedvalue>
	
	<animatedvalue id="falling" timingfunction="linear">
		<keyframe value="15" />
		<keyframe value="5" />
	</animatedvalue>
				
	<projection type="perspective" aspect="1.77777" fov="45" top="1" near="1" far="30">
		<style alpha="@fade">
		<translate offset="0 0 -7">

			<translate offset="0 -5 0" repeat="4">
			<translate offset="0 @falling -7">
			
				<sequence id="r" type="randmix" count="7" start="-5 -5 .2" end="5 0 1" seed="238384829">
					<translate offset="@r.x @r.y @r.z*12">
						<style alpha="@r.z">
							<rotate axis="0 0 1" angle="@spin1">
								<rect bounds="-0.3 0.3 0.3 -0.3" texture="@star1" />
							</rotate>
						</style>
					</translate>
				</sequence>
			
				<sequence id="r" type="randmix" count="6" start="-5 -5 .2" end="5 0 1" seed="674567450">
					<translate offset="@r.x @r.y @r.z*11">
						<style alpha="@r.z">
							<rotate axis="0 0 1" angle="@spin2">
								<rect bounds="-0.3 0.3 0.3 -0.3" texture="@star1" />
							</rotate>
						</style>
					</translate>
				</sequence>
			
				<sequence id="r" type="randmix" count="12" start="-5 -5 .2" end="5 0 1" seed="094858425">
					<translate offset="@r.x @r.y @r.z*12">
						<style alpha="@r.z">
							<rotate axis="0 0 1" angle="@spin3">
								<rect bounds="-0.3 0.3 0.3 -0.3" texture="@star2" />
							</rotate>
						</style>
					</translate>
				</sequence>
				
			</translate>
			</translate>

		</translate>
		</style>
		
	</projection>
	
</effect>
