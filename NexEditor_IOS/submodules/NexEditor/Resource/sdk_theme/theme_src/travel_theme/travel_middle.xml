<effect 
	id="com.nexstreaming.kinemaster.travel.middle" 
	name="Travel Middle"
	icon="theme_middle.png"
	theme="true"
	type="title" 
	intime="0" 
	intimefirst="0" 
	outtime="0" 
	outtimelast="0">

	<texture id="videoframe" video="1" />
	<texture id="wheel" src="train_wheel.png" />
	<texture id="engine" src="train_engine.png" />
	<texture id="car" src="train_car.png" />
	
	<userfield id="f_text" type="text">
		<fieldlabel locale="en" value="Title Text" />
	</userfield>
	<texture id="title_text" text="%1" 
		srcfield="@f_text"
		typeface="asset:goudy_stm_italic.ttf" 
		textsize="200" 
		height="200"
		width="1400"
		fillcolor="#FFFFFF" 
		shadowoffset="0 0" shadowradius="9" shadowcolor="0 0 0 0.75"
		textmargin="10"
		textalign="left"
		maxlines="1"
		fill="true" shadow="true" />
	<!--<texture id="title_shadow" text="%1" 
		srcfield="@f_text"
		typeface="asset:goudy_stm_italic.ttf" 
		textsize="200" 
		height="200"
		width="1400"
		fillcolor="0 0 0 0.5" 
		shadowoffset="0 0" shadowradius="10" shadowcolor="0 0 0 0.5"
		textmargin="10"
		textalign="right"
		maxlines="1"
		shadow="true" />-->
		
	
	<rect bounds="-1 1 1 -1" texture="@videoframe" />
	
	<animatedvalue id="wheelangle" timingfunction="linear" >
		<keyframe value="5700" />
		<keyframe value="0" />
	</animatedvalue>
	
	<animatedvalue id="trainmotion" timingfunction="linear" >
		<keyframe value="1800" />
		<keyframe value="-1500" />
	</animatedvalue>
	
	
	<projection type="perspective" aspect="1.77777" fov="45" top="1" near="1" far="40">
		<translate offset="0 0 -21.69">
			<translate offset="-16 -9">
			<scale uniform="0.025">
				<translate offset="@trainmotion">
					
					<!--<translate offset="220 0">
						<scale x="1" y="1">
							<rect location="0 82" height="150" width="2200" anchor="bottom right" texture="@title_shadow" scalemode="fit" />
						</scale>
					</translate>-->
					
					<scale x="-0.7" y="0.7">
						<translate offset="0 29">
							<translate offset="50"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
							<translate offset="198"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
							<translate offset="318"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
							<translate offset="403"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
							<translate offset="523"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
							<translate offset="606"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
						</translate>
						
						<rect bounds="0 223 712 0" texture="@engine" />
										
						<translate offset="-266" repeat="8">
							<rect bounds="-266 138 0 0" texture="@car" />
							<translate offset="-266 29">
								<translate offset="52"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
								<translate offset="200"><rotate angle="@wheelangle"><rect bounds="-48 47 48 -47" texture="@wheel" /></rotate></translate>
							</translate>
						</translate>
					</scale>
					
					<translate offset="-195 -25">
						<scale x="1" y="1">
							<rect location="0 84" height="150" width="1900" anchor="bottom left" texture="@title_text" scalemode="fit" />
						</scale>
					</translate>
										
				</translate>
			</scale>
			</translate>
		</translate>
	</projection>	

</effect>